<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#00ADEF">
    
    <title>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª - Ù…Ø´Ø±ÙˆØ¹ÙŠ Ø§Ù„Ø°ÙƒÙŠ</title>
    
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" href="/assets/icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <link rel="stylesheet" href="/assets/css/base.css">
    <link rel="stylesheet" href="/assets/css/dark-mode.css">
    <link rel="stylesheet" href="/assets/css/dashboard.css">
    <link rel="stylesheet" href="/assets/css/animations.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">ğŸ“</div>
                <div class="logo-text">
                    <h1>Ù…Ø´Ø±ÙˆØ¹ÙŠ Ø§Ù„Ø°ÙƒÙŠ</h1>
                    <p>SmartEduProject</p>
                </div>
            </div>
            
            <div class="header-actions">
                <a href="/pages/dashboard.html" class="btn btn-outline" style="color: white; border-color: white; display: inline-flex; align-items: center; gap: 8px;">
                    <span>â†</span>
                    <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="card fade-in">
            <div class="card-header">
                <h2 class="card-title">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
            </div>
            
            <div class="card-body">
                <!-- Profile Section -->
                <div style="border-bottom: 2px solid var(--border-color); padding-bottom: 30px; margin-bottom: 30px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">ğŸ‘¤ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
                    
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                                <input type="text" id="fullName" class="form-control" readonly>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                <input type="email" id="email" class="form-control" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                                <input type="tel" id="phone" class="form-control" readonly>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</label>
                                <input type="text" id="schoolName" class="form-control" readonly>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Change Password Section -->
                <div style="border-bottom: 2px solid var(--border-color); padding-bottom: 30px; margin-bottom: 30px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
                    
                    <form id="changePasswordForm">
                        <div class="form-group">
                            <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© *</label>
                            <div style="position: relative;">
                                <input type="password" id="oldPassword" class="form-control" 
                                       placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                                <span class="password-toggle" onclick="togglePassword('oldPassword')" 
                                      style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 20px;">
                                    ğŸ‘ï¸
                                </span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© *</label>
                            <div style="position: relative;">
                                <input type="password" id="newPassword" class="form-control" 
                                       placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required minlength="10">
                                <span class="password-toggle" onclick="togglePassword('newPassword')" 
                                      style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 20px;">
                                    ğŸ‘ï¸
                                </span>
                            </div>
                            <div id="passwordStrength" style="margin-top: 5px; font-size: 12px;"></div>
                            <small class="text-muted">
                                ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: 10 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ØŒ Ø­Ø±Ù ÙƒØ¨ÙŠØ±ØŒ Ø­Ø±Ù ØµØºÙŠØ±ØŒ Ø±Ù‚Ù…ØŒ ÙˆØ±Ù…Ø² Ø®Ø§Øµ (@$!%*?&#)
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© *</label>
                            <div style="position: relative;">
                                <input type="password" id="confirmPassword" class="form-control" 
                                       placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                                <span class="password-toggle" onclick="togglePassword('confirmPassword')" 
                                      style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 20px;">
                                    ğŸ‘ï¸
                                </span>
                            </div>
                            <div id="passwordMatch" style="margin-top: 5px; font-size: 12px;"></div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" id="changePasswordBtn">
                            ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                        </button>
                    </form>
                </div>

                <!-- Quick Links Section -->
                <div style="border-bottom: 2px solid var(--border-color); padding-bottom: 30px; margin-bottom: 30px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">âš¡ Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <a href="/pages/sections-setup.html" class="quick-link-card" style="text-decoration: none; display: flex; align-items: center; gap: 15px; padding: 20px; background: var(--bg-color); border: 2px solid var(--border-color); border-radius: 12px; transition: all 0.3s; cursor: pointer;" onmouseover="this.style.borderColor='var(--primary-color)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px var(--shadow-color)'" onmouseout="this.style.borderColor='var(--border-color)'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                            <div style="font-size: 36px;">ğŸ“š</div>
                            <div>
                                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px;">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙÙˆÙ</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Ø¥Ù†Ø´Ø§Ø¡ ØµÙÙˆÙ ÙˆØ´ÙØ¹Ø¨ Ø¬Ø¯ÙŠØ¯Ø©</div>
                            </div>
                        </a>
                        
                        <a href="/pages/sections-manage.html" class="quick-link-card" style="text-decoration: none; display: flex; align-items: center; gap: 15px; padding: 20px; background: var(--bg-color); border: 2px solid var(--border-color); border-radius: 12px; transition: all 0.3s; cursor: pointer;" onmouseover="this.style.borderColor='var(--primary-color)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px var(--shadow-color)'" onmouseout="this.style.borderColor='var(--border-color)'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                            <div style="font-size: 36px;">ğŸ«</div>
                            <div>
                                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px;">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´ÙØ¹Ø¨</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Ø¹Ø±Ø¶ ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´ÙØ¹Ø¨</div>
                            </div>
                        </a>
                        
                        <a href="/pages/sections-dashboard.html" class="quick-link-card" style="text-decoration: none; display: flex; align-items: center; gap: 15px; padding: 20px; background: var(--bg-color); border: 2px solid var(--border-color); border-radius: 12px; transition: all 0.3s; cursor: pointer;" onmouseover="this.style.borderColor='var(--primary-color)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px var(--shadow-color)'" onmouseout="this.style.borderColor='var(--border-color)'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                            <div style="font-size: 36px;">ğŸ“Š</div>
                            <div>
                                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px;">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØªØ­Ù„ÙŠÙ„Ø§Øª</div>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Preferences Section -->
                <div>
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">ğŸ¨ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª</h3>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø³Ù…Ø© (Theme)</label>
                        <select id="themeSelect" class="form-control">
                            <option value="light">ğŸ’¡ ÙØ§ØªØ­ (Light)</option>
                            <option value="dark">ğŸŒ™ Ø¯Ø§ÙƒÙ† (Dark)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù„ØºØ©</label>
                        <select id="languageSelect" class="form-control">
                            <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                            <option value="en" disabled>ğŸ‡¬ğŸ‡§ English (Ù‚Ø±ÙŠØ¨Ø§Ù‹)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="checkbox" id="notificationsEnabled">
                            <span>ğŸ”” ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
                        </label>
                    </div>
                    
                    <button class="btn btn-success" id="savePreferencesBtn">
                        Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
                    </button>
                </div>
            </div>
        </div>

        <!-- Danger Zone -->
        <div class="card" style="border-right: 4px solid var(--danger-color);">
            <div class="card-header">
                <h3 style="color: var(--danger-color);">âš ï¸ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø·Ø±</h3>
            </div>
            <div class="card-body">
                <p class="text-muted">
                    Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡Ø§. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù‚Ø¨Ù„ ØªÙ†ÙÙŠØ°Ù‡Ø§.
                </p>
                <button class="btn btn-danger" onclick="deleteAccount()">
                    ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹
                </button>
            </div>
        </div>
    </div>

    <script src="/assets/js/api.js"></script>
    <script src="/assets/js/ui.js"></script>
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/auth.js"></script>
    <script src="/assets/js/app.js"></script>
    
    <script>
        // Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø©
        auth.protectPage();
        
        // ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…
        const teacher = auth.getTeacher();
        if (teacher) {
            document.getElementById('fullName').value = teacher.full_name;
            document.getElementById('email').value = teacher.email;
            document.getElementById('phone').value = teacher.phone;
            document.getElementById('schoolName').value = teacher.school_name;
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        async function loadSettings() {
            try {
                const response = await api.getSettings();
                const settings = response.settings;
                
                document.getElementById('themeSelect').value = settings.theme || 'light';
                document.getElementById('languageSelect').value = settings.language || 'ar';
                document.getElementById('notificationsEnabled').checked = settings.notifications_enabled !== false;
                
            } catch (error) {
                console.error('Error loading settings:', error);
            }
        }
        
        // Ø¯Ø§Ù„Ø© Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        window.togglePassword = function(inputId) {
            const input = document.getElementById(inputId);
            const toggle = event.target;
            
            if (input.type === 'password') {
                input.type = 'text';
                toggle.textContent = 'ğŸ™ˆ';
            } else {
                input.type = 'password';
                toggle.textContent = 'ğŸ‘ï¸';
            }
        }
        
        // Ù…Ø¤Ø´Ø± ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function checkPasswordMatch() {
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const matchDiv = document.getElementById('passwordMatch');
            
            if (!confirmPassword) {
                matchDiv.textContent = '';
                return;
            }
            
            if (newPassword === confirmPassword) {
                matchDiv.innerHTML = '<span style="color: #28a745;">âœ… ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©</span>';
            } else {
                matchDiv.innerHTML = '<span style="color: #dc3545;">âŒ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©</span>';
            }
        }
        
        document.getElementById('newPassword').addEventListener('input', checkPasswordMatch);
        document.getElementById('confirmPassword').addEventListener('input', checkPasswordMatch);
        
        // Ù…Ø¤Ø´Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('newPassword').addEventListener('input', (e) => {
            const password = e.target.value;
            const strengthDiv = document.getElementById('passwordStrength');
            
            if (!password) {
                strengthDiv.textContent = '';
                return;
            }
            
            let strength = 0;
            let messages = [];
            
            if (password.length >= 10) {
                strength++;
            } else {
                messages.push(`âŒ ${password.length}/10 Ø£Ø­Ø±Ù`);
            }
            
            if (/[a-z]/.test(password)) strength++;
            else messages.push('âŒ Ø­Ø±Ù ØµØºÙŠØ±');
            
            if (/[A-Z]/.test(password)) strength++;
            else messages.push('âŒ Ø­Ø±Ù ÙƒØ¨ÙŠØ±');
            
            if (/\d/.test(password)) strength++;
            else messages.push('âŒ Ø±Ù‚Ù…');
            
            if (/[@$!%*?&#]/.test(password)) strength++;
            else messages.push('âŒ Ø±Ù…Ø² Ø®Ø§Øµ');
            
            const colors = ['#dc3545', '#fd7e14', '#ffc107', '#28a745', '#28a745'];
            const labels = ['Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹', 'Ø¶Ø¹ÙŠÙØ©', 'Ù…ØªÙˆØ³Ø·Ø©', 'Ù‚ÙˆÙŠØ©', 'Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹'];
            
            strengthDiv.innerHTML = `
                <span style="color: ${colors[strength]};">âš¡ Ø§Ù„Ù‚ÙˆØ©: ${labels[strength]}</span>
                ${messages.length > 0 ? '<br><span style="color: #dc3545;">' + messages.join(' â€¢ ') + '</span>' : '<br><span style="color: #28a745;">âœ… ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©!</span>'}
            `;
        });
        
        // ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('changePasswordForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const oldPassword = document.getElementById('oldPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
            if (newPassword !== confirmPassword) {
                UI.showToast('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©', 'error');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ØªØ·Ù„Ø¨Ø§Øª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{10,}$/;
            
            if (!passwordRegex.test(newPassword)) {
                UI.showToast(
                    'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Ø­Ø±Ù ÙƒØ¨ÙŠØ±ØŒ Ø­Ø±Ù ØµØºÙŠØ±ØŒ Ø±Ù‚Ù…ØŒ ÙˆØ±Ù…Ø² Ø®Ø§Øµ (@$!%*?&#) ÙˆØ£Ù† ØªÙƒÙˆÙ† 10 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„',
                    'error',
                    6000
                );
                return;
            }
            
            const btn = document.getElementById('changePasswordBtn');
            btn.disabled = true;
            btn.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØºÙŠÙŠØ±...';
            
            try {
                await auth.changePassword(oldPassword, newPassword);
                
                // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
                document.getElementById('oldPassword').value = '';
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmPassword').value = '';
                
            } catch (error) {
                // Error already shown by auth.changePassword
            } finally {
                btn.disabled = false;
                btn.textContent = 'ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±';
            }
        });
        
        // Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
        document.getElementById('savePreferencesBtn').addEventListener('click', async () => {
            const theme = document.getElementById('themeSelect').value;
            const language = document.getElementById('languageSelect').value;
            const notificationsEnabled = document.getElementById('notificationsEnabled').checked;
            
            const btn = document.getElementById('savePreferencesBtn');
            btn.disabled = true;
            btn.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...';
            
            try {
                await api.updateSettings({
                    theme: theme,
                    language: language,
                    notifications_enabled: notificationsEnabled
                });
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø«ÙŠÙ… ÙÙˆØ±Ø§Ù‹
                if (theme !== themeManager.getTheme()) {
                    themeManager.toggle();
                }
                
                UI.showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
                
            } catch (error) {
                UI.showToast(error.message || 'ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª', 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª';
            }
        });
        
        // Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
        function deleteAccount() {
            UI.showModal(
                'âš ï¸ ØªØ£ÙƒÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨',
                `
                <p style="color: var(--danger-color); font-weight: bold;">
                    Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ
                </p>
                <p class="text-muted">
                    Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ ÙˆØ¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù… ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ±Ø¬Ø§Ø¹Ù‡Ø§.
                </p>
                <div class="form-group mt-3">
                    <label class="form-label">Ø§ÙƒØªØ¨ "Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨" Ù„Ù„ØªØ£ÙƒÙŠØ¯:</label>
                    <input type="text" id="deleteConfirm" class="form-control" placeholder="Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨">
                </div>
                `,
                [
                    {
                        text: 'Ù†Ø¹Ù…ØŒ Ø§Ø­Ø°Ù Ø­Ø³Ø§Ø¨ÙŠ',
                        class: 'btn-danger',
                        onclick: `
                            const confirm = document.getElementById('deleteConfirm').value;
                            if (confirm === 'Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨') {
                                UI.closeModal();
                                UI.showToast('Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'info');
                            } else {
                                UI.showToast('ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© "Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨" Ù„Ù„ØªØ£ÙƒÙŠØ¯', 'warning');
                            }
                        `
                    },
                    {
                        text: 'Ø¥Ù„ØºØ§Ø¡',
                        class: 'btn-secondary',
                        onclick: 'UI.closeModal()'
                    }
                ]
            );
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', () => {
            loadSettings();
        });
    </script>
</body>
</html>
