<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ - SmartEdu</title>
    <meta name="description" content="ุฃูุดุฆ ูุดุฑูุนุงู ุชุนููููุงู ุฌุฏูุฏุงู ูุฃุฑุณูู ููุทูุงุจ ุนุจุฑ Telegram ุชููุงุฆูุงู">
    <meta name="robots" content="noindex, nofollow">
 
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" href="/assets/icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <link rel="stylesheet" href="../css/create-project.css">
    <link rel="stylesheet" href="../css/create-project-theme.css">
    <link rel="stylesheet" href="/assets/css/mobile-responsive.css">
</head>
<body data-page-type="wizard">
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p style="color: #333; font-size: 1.1rem; font-weight: 600;">ุฌุงุฑู ุงูุญูุธ ูุงูุฅุฑุณุงู...</p>
            <p style="color: #666; margin-top: 10px;">ูุฏ ุชุณุชุบุฑู ุงูุนูููุฉ ุจุถุน ุซูุงูู</p>
        </div>
    </div>

    <div class="wizard-container">
        <!-- Header -->
        <header class="header">
            <div class="header-actions" style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                <a href="/pages/dashboard.html" class="back-btn" title="ุงูุนูุฏุฉ ุฅูู ููุญุฉ ุงูุชุญูู" style="display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); text-decoration: none; font-size: 14px; transition: all 0.3s;">
                    <span style="font-size: 20px;">โ</span>
                    <span>ููุญุฉ ุงูุชุญูู</span>
                </a>
                <button class="theme-toggle" onclick="toggleTheme()" title="ุชุจุฏูู ุงููุถุน ุงููููู">
                    ๐
                </button>
            </div>
            <div class="header-content">
                <h1>๐ ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ</h1>
                <p>ุฃุถู ูุดุฑูุนุงู ุฌุฏูุฏุงู ูุณูุชู ุฅุฑุณุงูู ุชููุงุฆูุงู ููุทูุงุจ ุนุจุฑ Telegram</p>
                <small style="opacity: 0.7; font-size: 0.85rem; margin-top: 8px; display: block;">
                    โจ๏ธ ุงุฎุชุตุงุฑุงุช: Ctrl+Enter (ุงูุชุงูู) | Ctrl+S (ุญูุธ ูุณูุฏุฉ) | Esc (ุฑุฌูุน)
                </small>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-steps">
                <div class="progress-line">
                    <div class="progress-line-fill" id="progressFill" style="width: 16.67%"></div>
                </div>
                
                <div class="progress-step" data-step="1">
                    <div class="step-circle active">1</div>
                    <span class="step-label active">ุงูุตู ูุงูุดูุนุจ</span>
                </div>
                <div class="progress-step" data-step="2">
                    <div class="step-circle">2</div>
                    <span class="step-label">ุงููุดุฑูุน</span>
                </div>
                <div class="progress-step" data-step="3">
                    <div class="step-circle">3</div>
                    <span class="step-label">ุงูุชุนูููุงุช</span>
                </div>
                <div class="progress-step" data-step="4">
                    <div class="step-circle">4</div>
                    <span class="step-label">ุงููููุงุช</span>
                </div>
                <div class="progress-step" data-step="5">
                    <div class="step-circle">5</div>
                    <span class="step-label">ุงูุฅุนุฏุงุฏุงุช</span>
                </div>
                <div class="progress-step" data-step="6">
                    <div class="step-circle">6</div>
                    <span class="step-label">ุงููุฑุงุฌุนุฉ</span>
                </div>
            </div>
        </div>

        <!-- Alert -->
        <div id="alertBox" class="alert"></div>

        <!-- Wizard Body -->
        <div class="wizard-body">
            <!-- Step 1: Grade & Sections Selection -->
            <div class="wizard-step active" data-step="1">
                <h2 class="step-title">ุงุฎุชูุงุฑ ุงูุตู ูุงูุดูุนุจ</h2>
                <p class="step-subtitle">ุญุฏุฏ ุงูุตู ูุงูุดูุนุจ ุงููุณุชูุฏูุฉ ูุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ</p>

                <div class="form-group">
                    <label>
                        <span class="required">*</span>
                        ุงุฎุชุฑ ุงูุตู ุงูุฏุฑุงุณู:
                    </label>
                    <select id="gradeSelect" required onchange="loadSections()">
                        <option value="">ุงุฎุชุฑ ุงูุตู...</option>
                    </select>
                </div>

                <div class="form-group" id="sectionsGroup" style="display: none;">
                    <label>
                        <span class="required">*</span>
                        ุงุฎุชุฑ ุงูุดูุนุจ: (ูููู ุงุฎุชูุงุฑ ุฃูุซุฑ ูู ุดุนุจุฉ)
                    </label>
                    <div style="margin: 10px 0;">
                        <label style="display: inline-flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="selectAllSections" onchange="toggleAllSections()" style="margin-left: 8px;">
                            <strong>ุชุญุฏูุฏ ุงููู</strong>
                        </label>
                    </div>
                    <div class="checkbox-grid" id="sectionsList"></div>
                </div>

                <div class="form-group" id="subjectGroup" style="display: none;">
                    <label>
                        <span class="required">*</span>
                        ุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ:
                    </label>
                    <select id="projectSubject" required>
                        <option value="">ุฌุงุฑู ุชุญููู ุงูููุงุฏ...</option>
                    </select>
                    <small style="color: var(--text-muted);">ูุชู ุชุญููู ููุงุฏ ุงููุนูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</small>
                </div>

                <div class="info-box" id="selectionStats" style="display: none;">
                    <h4>๐ ุงูุฅุญุตุงุฆูุงุช:</h4>
                    <ul>
                        <li>ุฅุฌูุงูู ุงูุทูุงุจ: <strong id="totalStudents">0</strong> ุทุงูุจ</li>
                        <li>ุนุฏุฏ ุงูุดูุนุจ ุงููุฎุชุงุฑุฉ: <strong id="selectedSections">0</strong> ุดุนุจุฉ</li>
                    </ul>
                </div>
            </div>

            <!-- Step 2: Project Info -->
            <div class="wizard-step" data-step="2">
                <h2 class="step-title">ูุนูููุงุช ุงููุดุฑูุน</h2>
                <p class="step-subtitle">ุฃุฏุฎู ุนููุงู ุงููุดุฑูุน ููุตูู</p>

                <div class="form-group">
                    <label>
                        <span class="required">*</span>
                        ุงุณู ุงููุดุฑูุน:
                    </label>
                    
                    <!-- Tabs ููุงุฎุชูุงุฑ -->
                    <div class="input-tabs">
                        <button type="button" class="tab-btn active" onclick="switchInputTab('text')">
                            โ๏ธ ูุชุงุจุฉ
                        </button>
                        <button type="button" class="tab-btn" onclick="switchInputTab('image')">
                            ๐ท ูู ุตูุฑุฉ
                        </button>
                        <button type="button" class="tab-btn" onclick="switchInputTab('pdf')">
                            ๐ ูู PDF
                        </button>
                    </div>
                    
                    <!-- Tab 1: ุฅุฏุฎุงู ูุตู -->
                    <div class="tab-content active" id="tab-text">
                        <input type="text" id="projectTitle" placeholder="ูุซุงู: ุจุญุซ ุนู ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉ" required>
                        <small>ุงุฎุชุฑ ุนููุงูุงู ูุงุถุญุงู ููุญุฏุฏุงู (3-100 ุญุฑู)</small>
                    </div>
                    
                    <!-- Tab 2: ุงุณุชุฎุฑุงุฌ ูู ุตูุฑุฉ -->
                    <div class="tab-content" id="tab-image" style="display: none;">
                        <input type="file" id="titleImage" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                        
                        <div class="drop-zone" id="imageDropZone" onclick="document.getElementById('titleImage').click()">
                            <div class="drop-zone-content">
                                <span class="drop-icon">๐ท</span>
                                <p class="drop-text">ุงุถุบุท ูุงุฎุชูุงุฑ ุตูุฑุฉ ุฃู ุงุณุญุจูุง ููุง</p>
                                <small>PNG, JPG, JPEG - Max 5MB</small>
                            </div>
                        </div>
                        
                        <div id="imagePreview" class="extraction-preview" style="display: none;"></div>
                    </div>
                    
                    <!-- Tab 3: ุงุณุชุฎุฑุงุฌ ูู PDF -->
                    <div class="tab-content" id="tab-pdf" style="display: none;">
                        <input type="file" id="titlePdf" accept=".pdf" style="display: none;" onchange="handlePdfUpload(event)">
                        
                        <div class="drop-zone" id="pdfDropZone" onclick="document.getElementById('titlePdf').click()">
                            <div class="drop-zone-content">
                                <span class="drop-icon">๐</span>
                                <p class="drop-text">ุงุถุบุท ูุงุฎุชูุงุฑ ููู PDF ุฃู ุงุณุญุจู ููุง</p>
                                <small>PDF - Max 10MB</small>
                            </div>
                        </div>
                        
                        <div id="pdfPreview" class="extraction-preview" style="display: none;"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label>ูุตู ุงููุดุฑูุน:</label>
                    <textarea id="projectDescription" rows="3" placeholder="ุงูุชุจ ูุตูุงู ูุฎุชุตุฑุงู ุฃู ุฏุน ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูููุฏู ูู..."></textarea>
                    <small>ุณุทุฑ ุฃู ุณุทุฑูู ุนู ุงููุดุฑูุน (ุงุฎุชูุงุฑูุ ูููู ุชูููุฏู ุชููุงุฆูุงู)</small>
                </div>
            </div>

            <!-- Step 3: Instructions -->
            <div class="wizard-step" data-step="3">
                <h2 class="step-title">ุชุนูููุงุช ูุดุฑูุท ุงููุดุฑูุน</h2>
                <p class="step-subtitle">ูุถูุญ ููุทูุงุจ ูุง ูู ูุทููุจ ูููู</p>

                <div class="form-group">
                    <div class="checklist-header">
                        <label>
                            <span class="required">*</span>
                            ุงูุชุนูููุงุช:
                        </label>
                        <div class="checklist-controls">
                            <button type="button" class="btn-checklist-control" onclick="checklistSelectAll('instructions')">
                                โ ุชุญุฏูุฏ ุงููู
                            </button>
                            <button type="button" class="btn-checklist-control" onclick="checklistDeselectAll('instructions')">
                                โ ุฅูุบุงุก ุงููู
                            </button>
                            <button type="button" class="btn-checklist-control btn-add" onclick="checklistAddItem('instructions')">
                                + ุฅุถุงูุฉ
                            </button>
                        </div>
                    </div>
                    
                    <!-- Hidden textarea for form submission -->
                    <textarea id="projectInstructions" style="display: none;" required></textarea>
                    
                    <!-- Checklist container -->
                    <div class="checklist-container" id="instructionsChecklist" data-field="instructions">
                        <!-- Items will be added here dynamically -->
                    </div>
                    
                    <small class="checklist-hint">
                        โจ ุงุฎุชุฑ ุงูุชุนูููุงุช ุงูุชู ุชุฑูุฏูุง | ููููู ุงูุชุนุฏูู ุจุงูููุฑ ุนูู ุงููุต | 
                        <span class="text-primary" style="cursor: pointer;" onclick="checklistLoadExample('instructions')">๐ ุชุญููู ูุซุงู</span>
                    </small>
                </div>

                <div class="form-group">
                    <div class="checklist-header">
                        <label>
                            <span class="required">*</span>
                            ุงูุดุฑูุท:
                        </label>
                        <div class="checklist-controls">
                            <button type="button" class="btn-checklist-control" onclick="checklistSelectAll('requirements')">
                                โ ุชุญุฏูุฏ ุงููู
                            </button>
                            <button type="button" class="btn-checklist-control" onclick="checklistDeselectAll('requirements')">
                                โ ุฅูุบุงุก ุงููู
                            </button>
                            <button type="button" class="btn-checklist-control btn-add" onclick="checklistAddItem('requirements')">
                                + ุฅุถุงูุฉ
                            </button>
                        </div>
                    </div>
                    
                    <!-- Hidden textarea for form submission -->
                    <textarea id="projectRequirements" style="display: none;" required></textarea>
                    
                    <!-- Checklist container -->
                    <div class="checklist-container" id="requirementsChecklist" data-field="requirements">
                        <!-- Items will be added here dynamically -->
                    </div>
                    
                    <small class="checklist-hint">
                        โจ ุงุฎุชุฑ ุงูุดุฑูุท ุงูููุงุณุจุฉ | ูุงุจู ููุชุนุฏูู | 
                        <span class="text-primary" style="cursor: pointer;" onclick="checklistLoadExample('requirements')">๐ ุชุญููู ูุซุงู</span>
                    </small>
                </div>

                <div class="form-group">
                    <div class="checklist-header">
                        <label>๐ก ูุตุงุฆุญ ููุทูุงุจ (ุงุฎุชูุงุฑู):</label>
                        <div class="checklist-controls">
                            <button type="button" class="btn-checklist-control" onclick="checklistSelectAll('tips')">
                                โ ุชุญุฏูุฏ ุงููู
                            </button>
                            <button type="button" class="btn-checklist-control" onclick="checklistDeselectAll('tips')">
                                โ ุฅูุบุงุก ุงููู
                            </button>
                            <button type="button" class="btn-checklist-control btn-add" onclick="checklistAddItem('tips')">
                                + ุฅุถุงูุฉ
                            </button>
                        </div>
                    </div>
                    
                    <!-- Hidden textarea for form submission -->
                    <textarea id="projectTips" style="display: none;"></textarea>
                    
                    <!-- Checklist container -->
                    <div class="checklist-container" id="tipsChecklist" data-field="tips">
                        <!-- Items will be added here dynamically -->
                    </div>
                    
                    <small class="checklist-hint">
                        โจ ูุตุงุฆุญ ูููุฏุฉ ููุทูุงุจ | <strong>ุฒุฑ AI</strong> ูููุฏ ูุตุงุฆุญ ุจูุงุกู ุนูู ุงูุชุนูููุงุช ูุงูุดุฑูุท | 
                        <span class="text-primary" style="cursor: pointer;" onclick="checklistLoadExample('tips')">๐ ุชุญููู ูุซุงู</span>
                    </small>
                </div>
            </div>

            <!-- Step 4: Files -->
            <div class="wizard-step" data-step="4">
                <h2 class="step-title">ูููุงุช ูููุงุฑุฏ ูุณุงุนุฏุฉ</h2>
                <p class="step-subtitle">ุฃุถู ูููุงุช ุฃู ุฑูุงุจุท ูุณุงุนุฏุฉ ููุทูุงุจ (ุงุฎุชูุงุฑู)</p>

                <div class="info-box">
                    <h4>๐ก ูุนูููุงุช ูููุฉ:</h4>
                    <ul>
                        <li>ุฌููุน ุงููููุงุช ุงุฎุชูุงุฑูุฉ</li>
                        <li>ุณูุชู ุฅุฑุณุงู ุงููููุงุช ูุน ุงูุฅุดุนุงุฑ ุนูู Telegram</li>
                        <li>ุงูุญุฏ ุงูุฃูุตู ููู ููู: 10 MB</li>
                    </ul>
                </div>

                <div class="form-group">
                    <label>๐น ููุฏูู ุดุฑุญ (ุงุฎุชูุงุฑู):</label>
                    <input type="file" id="videoFile" accept="video/*" style="display: none;" onchange="handleVideoSelect()">
                    <button type="button" class="btn btn-secondary" onclick="document.getElementById('videoFile').click()">
                        ๐ค ุฑูุน ููุฏูู
                    </button>
                    <small>ุฑูุน ููู ููุฏูู ูู ุฌูุงุฒู</small>
                    <div id="videoPreview" class="file-list"></div>
                </div>

                <div class="form-group">
                    <label>๐ ูููุงุช PDF (ุงุฎุชูุงุฑู):</label>
                    <input type="file" id="pdfFiles" accept=".pdf" multiple style="display: none;" onchange="handleFileSelect('pdf')">
                    <button type="button" class="btn btn-secondary" onclick="document.getElementById('pdfFiles').click()">
                        ๐ค ุฅุถุงูุฉ ูููุงุช PDF
                    </button>
                    <small>Max: 5 ูููุงุช ร 10MB</small>
                    <div id="pdfList" class="file-list"></div>
                </div>

                <div class="form-group">
                    <label>๐ ูููุงุช Word/Excel (ุงุฎุชูุงุฑู):</label>
                    <input type="file" id="docFiles" accept=".doc,.docx,.xls,.xlsx" multiple style="display: none;" onchange="handleFileSelect('doc')">
                    <button type="button" class="btn btn-secondary" onclick="document.getElementById('docFiles').click()">
                        ๐ค ุฅุถุงูุฉ ูููุงุช Office
                    </button>
                    <small>Max: 5 ูููุงุช ร 10MB</small>
                    <div id="docList" class="file-list"></div>
                </div>

                <div class="form-group">
                    <label>๐ ุฑูุงุจุท ุฎุงุฑุฌูุฉ (ุงุฎุชูุงุฑู):</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <input type="url" id="externalLink" placeholder="https://example.com" style="flex: 1;">
                        <button type="button" class="btn btn-primary" onclick="addExternalLink()">+ ุฅุถุงูุฉ</button>
                    </div>
                    <div id="linksList"></div>
                </div>
            </div>

            <!-- Step 5: Settings -->
            <div class="wizard-step" data-step="5">
                <h2 class="step-title">ุฅุนุฏุงุฏุงุช ุงูุชุณููู ูุงููุจูู</h2>
                <p class="step-subtitle">ุญุฏุฏ ููุงุนุฏ ุงุณุชูุจุงู ูุชูููู ุงููุดุฑูุน</p>

                <div class="form-group">
                    <label>
                        <span class="required">*</span>
                        ุฃููุงุน ุงููููุงุช ุงููุณููุญ ุจุฑูุนูุง:
                    </label>
                    <div class="checkbox-grid">
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="pdf" checked>
                            <span class="checkbox-label">PDF</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="doc" checked>
                            <span class="checkbox-label">Word</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="ppt">
                            <span class="checkbox-label">PowerPoint</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="xls">
                            <span class="checkbox-label">Excel</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="img">
                            <span class="checkbox-label">ุตูุฑ</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="zip">
                            <span class="checkbox-label">ูููุงุช ูุถุบูุทุฉ</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="video">
                            <span class="checkbox-label">๐ฌ ููุฏูู</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="fileTypes" value="audio">
                            <span class="checkbox-label">๐ต ุตูุช</span>
                        </label>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>
                            <span class="required">*</span>
                            ุญุฌู ุงูููู ุงูุฃูุตู:
                        </label>
                        <select id="maxFileSize" required>
                            <option value="5">5 MB</option>
                            <option value="10" selected>10 MB (ููุตู ุจู)</option>
                            <option value="20">20 MB</option>
                            <option value="50">50 MB</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>
                            <span class="required">*</span>
                            ุงูุฏุฑุฌุฉ ุงููุงููุฉ:
                        </label>
                        <input type="number" id="maxGrade" value="100" min="0" max="100" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>
                            <span class="required">*</span>
                            ุชุงุฑูุฎ ุงูุจุฏุงูุฉ:
                        </label>
                        <input type="datetime-local" id="startDate" required>
                    </div>

                    <div class="form-group">
                        <label>
                            <span class="required">*</span>
                            ุงูููุนุฏ ุงูููุงุฆู:
                        </label>
                        <input type="datetime-local" id="deadline" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>โก ุฎูุงุฑุงุช ุฅุถุงููุฉ:</label>
                    <div class="checkbox-grid">
                        <label class="checkbox-item">
                            <input type="checkbox" id="allowLateSubmission" checked>
                            <span class="checkbox-label">ุงูุณูุงุญ ุจุงูุชุณููู ุงููุชุฃุฎุฑ</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="sendReminder" checked>
                            <span class="checkbox-label">ุฅุฑุณุงู ุชุฐููุฑ ูุจู ุงูููุนุฏ</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="aiCheck">
                            <span class="checkbox-label">ูุญุต ุงูุงูุชุญุงู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
                        </label>
                    </div>
                </div>

                <!-- Telegram Settings -->
                <div class="form-group telegram-settings">
                    <label>
                        ๐ฑ ุฅุนุฏุงุฏุงุช ุฅุฑุณุงู ุงูุชูููุฌุฑุงู:
                        <small style="color: var(--text-muted); font-weight: normal;">
                            ุงุฎุชุฑ ูุชู ุชุฑูุฏ ุฅุฑุณุงู ุงููุดุฑูุน ูููุฑูุจุงุช
                        </small>
                    </label>
                    
                    <div class="checkbox-grid">
                        <label class="checkbox-item">
                            <input type="checkbox" id="sendToTelegram" checked onchange="toggleTelegramOptions()">
                            <span class="checkbox-label">
                                <strong>๐ค ุฅุฑุณุงู ููุฑู ุจุนุฏ ุงูุญูุธ</strong>
                                <small style="display: block; color: var(--text-muted); margin-top: 4px;">
                                    ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู ููุฑูุจุงุช ุงูุชูููุฌุฑุงู ุงูุขู
                                </small>
                            </span>
                        </label>
                    </div>
                    
                    <div class="alert-info" style="margin-top: 12px; padding: 12px; background: #dbeafe; border-radius: 8px; border-right: 4px solid #3b82f6;">
                        <p style="margin: 0; font-size: 14px; color: #1e40af;">
                            ๐ก <strong>ูุตูุญุฉ:</strong> ุฅุฐุง ูู ุชูู ุงููุฑูุจุงุช ุฌุงูุฒุฉ ุจุนุฏุ ููููู ุฅูุบุงุก ุงูุชุญุฏูุฏ ูุงูุฅุฑุณุงู ูุงุญูุงู ูู ููุญุฉ ุงูุชุญูู
                        </p>
                    </div>

                    <div id="telegramOptions" style="display: block; margin-top: 16px; padding: 16px; background: var(--bg-color); border-radius: 8px;">
                        <div class="checkbox-grid">
                            <label class="checkbox-item">
                                <input type="checkbox" id="pinMessage" checked>
                                <span class="checkbox-label">
                                    ุชุซุจูุช ุงูุฑุณุงูุฉ ูู ุงููุฑูุจ
                                </span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="sendFiles" checked>
                                <span class="checkbox-label">
                                    ุฅุฑุณุงู ุงููููุงุช ุงููุณุงุนุฏุฉ
                                </span>
                            </label>
                        </div>

                        <div class="telegram-target-box" style="margin-top: 16px; padding: 16px; background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%); border: 2px solid #0ea5e9; border-radius: 10px; box-shadow: 0 2px 8px rgba(14, 165, 233, 0.15);">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                <span style="font-size: 24px;">๐</span>
                                <strong style="color: #0c4a6e; font-size: 16px; font-weight: 700;">ุณูุชู ุงูุฅุฑุณุงู ุฅูู:</strong>
                            </div>
                            <ul id="telegramTargets" style="margin: 0; padding-right: 24px; list-style: none; color: #0f172a; font-size: 15px; line-height: 1.8;">
                                <li style="position: relative; padding-right: 20px;">
                                    <span style="position: absolute; right: 0; color: #10b981; font-weight: bold;">โ</span>
                                    <span style="color: #475569;">ุฌุงุฑู ุชุญููู ุงูุดูุนุจ...</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 6: Review -->
            <div class="wizard-step" data-step="6">
                <h2 class="step-title">ูุฑุงุฌุนุฉ ุงููุดุฑูุน ูุจู ุงูุฅุฑุณุงู</h2>
                <p class="step-subtitle">ุชุฃูุฏ ูู ุตุญุฉ ุฌููุน ุงููุนูููุงุช</p>

                <div class="summary-box" id="projectSummary">
                    <!-- Will be filled by JavaScript -->
                </div>

                <div class="info-box">
                    <h4>๐ค ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุฅูู:</h4>
                    <ul id="notificationTargets">
                        <!-- Will be filled by JavaScript -->
                    </ul>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="wizard-buttons">
                <button type="button" class="btn btn-secondary" id="prevBtn" onclick="previousStep()">
                    โ ุงูุณุงุจู
                </button>
                <button type="button" class="btn btn-primary btn-left" id="nextBtn" onclick="nextStep()">
                    ุงูุชุงูู โ
                </button>
                <button type="button" class="btn btn-success btn-left" id="submitBtn" style="display: none;" onclick="submitProject()">
                    โ ุญูุธ ูุฅุฑุณุงู
                </button>
            </div>
        </div>

        <!-- โจ Floating AI Assistant Button -->
        <button type="button" id="floatingAIButton" class="floating-ai-button" onclick="openAIAssistant()" style="display: none;">
            <span class="ai-icon">๐ค</span>
            <span class="ai-text">ูุณุงุนุฏ AI</span>
            <span class="ai-badge" id="emptyFieldsCount">0</span>
        </button>
    </div>

    <!-- AI Assistant Modal -->
    <div id="aiAssistantModal" class="ai-modal" style="display: none;">
        <div class="ai-modal-content">
            <div class="ai-modal-header">
                <h3>๐ค ุงููุณุงุนุฏ ุงูุฐูู</h3>
                <button onclick="closeAIAssistant()" class="close-btn">&times;</button>
            </div>
            
            <div class="ai-modal-body">
                <p class="ai-description">
                    ๐ก ุณูุชู ุชูููุฏ ูุญุชูู ุงุญุชุฑุงูู ุจูุงุกู ุนูู:
                </p>
                
                <div class="ai-context-preview" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 16px; border-radius: 12px; margin-bottom: 20px; border: 2px solid #0ea5e9;">
                    <div style="display: grid; gap: 10px; font-size: 14px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <strong style="color: #0c4a6e; min-width: 80px;">๐ ุงููุดุฑูุน:</strong>
                            <span id="aiContextTitle" style="color: #0369a1; font-weight: 500;">-</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <strong style="color: #0c4a6e; min-width: 80px;">๐ ุงููุงุฏุฉ:</strong>
                            <span id="aiContextSubject" style="color: #0369a1; font-weight: 500;">-</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <strong style="color: #0c4a6e; min-width: 80px;">๐ซ ุงูุตู:</strong>
                            <span id="aiContextGrade" style="color: #0369a1; font-weight: 500;">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="ai-options">
                    <label class="ai-option-item">
                        <input type="checkbox" id="aiGenDescription" checked>
                        <span class="ai-option-label">
                            <strong>๐ ุงููุตู</strong>
                            <small>ูุตู ุงุญุชุฑุงูู (3-4 ุฌูู)</small>
                        </span>
                        <span class="ai-status" id="statusDescription">ูุงุฑุบ</span>
                    </label>
                    
                    <label class="ai-option-item">
                        <input type="checkbox" id="aiGenInstructions" checked>
                        <span class="ai-option-label">
                            <strong>๐ ุงูุชุนูููุงุช</strong>
                            <small>5 ุฎุทูุงุช ูุงุถุญุฉ ููุชูููุฐ</small>
                        </span>
                        <span class="ai-badge" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600;">5 ููุงุท</span>
                    </label>
                    
                    <label class="ai-option-item">
                        <input type="checkbox" id="aiGenRequirements" checked>
                        <span class="ai-option-label">
                            <strong>โ๏ธ ุงูุดุฑูุท</strong>
                            <small>5 ูุชุทูุจุงุช ุฃุณุงุณูุฉ</small>
                        </span>
                        <span class="ai-badge" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600;">5 ููุงุท</span>
                    </label>
                    
                    <label class="ai-option-item">
                        <input type="checkbox" id="aiGenTips" checked>
                        <span class="ai-option-label">
                            <strong>๐ก ุงููุตุงุฆุญ</strong>
                            <small>5 ูุตุงุฆุญ ุนูููุฉ ููุชููุฒ</small>
                        </span>
                        <span class="ai-badge" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600;">5 ููุงุท</span>
                    </label>
                </div>
                
                <div class="ai-total-badge" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 14px 20px; border-radius: 12px; text-align: center; margin-top: 16px; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);">
                    <strong style="font-size: 16px;">๐ ุงููุฌููุน: <span id="aiTotalItems">15</span> ููุทุฉ</strong>
                    <div style="font-size: 12px; opacity: 0.9; margin-top: 4px;">(ุงููุตู + 5 ุชุนูููุงุช + 5 ุดุฑูุท + 5 ูุตุงุฆุญ)</div>
                </div>
                
                <div id="aiProgress" class="ai-progress" style="display: none;">
                    <div class="progress-header">
                        <span>ุฌุงุฑู ุงูุชูููุฏ...</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-details" id="progressDetails"></div>
                </div>
            </div>
            
            <div class="ai-modal-footer">
                <button type="button" class="btn-cancel" onclick="closeAIAssistant()">ุฅูุบุงุก</button>
                <button type="button" class="btn-generate" onclick="generateAllWithAI()">
                    โจ ุชูููุฏ ุงููุญุฏุฏ
                </button>
            </div>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        // Configure PDF.js worker
        if (typeof pdfjsLib !== 'undefined') {
            pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
        }
    </script>
    
    <!-- โ Config ููุญููู ุฃููุงู -->
    <script src="/assets/js/config.js"></script>
    
    <!-- โ API Service -->
    <script src="/assets/js/api.js"></script>
    <script src="/assets/js/ui.js"></script>
    <script src="/assets/js/auth.js"></script>
    
    <script src="../js/create-project.js"></script>
    <script src="../js/checklist-manager.js"></script>
    <script src="../js/ai-assistant.js"></script>
    <script src="../js/success-modal.js"></script>

    <!-- โ Dark Mode System -->
    <script src="/assets/js/dark-mode-manager.js"></script>
    <script src="/assets/js/dark-mode-init.js"></script>
</body>
</html>
