<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุณููู ุงููุดุฑูุน - SmartEdu</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/submit-project-enhanced.css">
    <link rel="stylesheet" href="/assets/css/mobile-responsive.css">
    
    <!-- PWA -->
    <link rel="manifest" href="../manifest.json">
    <link rel="icon" type="image/png" href="/assets/icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body data-page-type="default">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="icon">๐</i>
                <span>SmartEdu</span>
            </div>
            <nav class="nav">
                <a href="/pages/dashboard.html" style="display: inline-flex; align-items: center; gap: 6px;">
                    <span>โ</span>
                    <span>ููุญุฉ ุงูุชุญูู</span>
                </a>
                <a href="../index.html">ุงูุฑุฆูุณูุฉ</a>
                <a href="#" class="active">ุชุณููู ูุดุฑูุน</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Project Info Section -->
            <section id="projectInfo" class="project-info">
                <div class="info-card">
                    <div class="info-header">
                        <h1 id="projectTitle">ุฌุงุฑู ุงูุชุญููู...</h1>
                        <span id="projectDeadline" class="deadline"></span>
                    </div>
                    <div class="info-body">
                        <div class="info-item">
                            <label>ุงููุงุฏุฉ:</label>
                            <span id="projectSubject">-</span>
                        </div>
                        <div class="info-item">
                            <label>ุงูุตู:</label>
                            <span id="projectGrade">-</span>
                        </div>
                        <div class="info-item">
                            <label>ุงูุดุนุจุฉ:</label>
                            <span id="projectSection">-</span>
                        </div>
                        <div class="info-item">
                            <label>ุงููุนูู:</label>
                            <span id="projectTeacher">-</span>
                        </div>
                    </div>
                </div>

                <!-- Instructions -->
                <div class="instructions-card" id="instructionsCard">
                    <h3>๐ ุชุนูููุงุช ุงููุดุฑูุน</h3>
                    <div id="projectInstructions" class="content">
                        ูุง ุชูุฌุฏ ุชุนูููุงุช ูุญุฏุฏุฉ
                    </div>
                </div>

                <!-- Requirements -->
                <div class="requirements-card" id="requirementsCard">
                    <h3>โ ุดุฑูุท ุงูุชุณููู</h3>
                    <div id="projectRequirements" class="content">
                        ูุง ุชูุฌุฏ ุดุฑูุท ูุญุฏุฏุฉ
                    </div>
                </div>

                <!-- File Constraints -->
                <div class="constraints-card">
                    <h3>๐ ูุชุทูุจุงุช ุงูููู</h3>
                    <ul id="fileConstraints">
                        <li>ุงูุญุฏ ุงูุฃูุตู ููุญุฌู: <strong id="maxSize">-</strong></li>
                        <li>ุงูุฃููุงุน ุงููุณููุญุฉ: <strong id="allowedTypes">-</strong></li>
                        <li>ุณูุชู ูุญุต ุงูููู ูู ุงูููุฑูุณุงุช</li>
                        <li>ุณูุชู ุงูุชุญูู ูู ุงููุญุชูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</li>
                    </ul>
                </div>
            </section>

            <!-- Progress Steps -->
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">ูุนูููุงุช ุงูุทุงูุจ</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">ุฑูุน ุงูููู</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">ุชุฃููุฏ</div>
                </div>
            </div>

            <!-- Step 1: Student Info -->
            <section id="step1" class="form-section active">
                <div class="form-card">
                    <h2>ูุนูููุงุช ุงูุทุงูุจ</h2>
                    <form id="studentForm">
                        <div class="form-group">
                            <label for="studentName">ุงูุงุณู ุงููุงูู *</label>
                            <input type="text" id="studentName" required 
                                   placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="history.back()">
                                ุฑุฌูุน
                            </button>
                            <button type="submit" class="btn btn-primary">
                                ุงูุชุงูู: ุฑูุน ุงูููู
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Step 2: File Upload -->
            <section id="step2" class="form-section">
                <div class="form-card">
                    <h2>ุฑูุน ููู ุงููุดุฑูุน</h2>
                    
                    <!-- File Drop Zone -->
                    <div class="file-drop-zone" id="dropZone">
                        <input type="file" id="fileInput" accept="*" hidden>
                        <div class="drop-content">
                            <div class="icon">๐</div>
                            <h3>ุงุณุญุจ ุงูููู ููุง ุฃู ุงุถุบุท ููุงุฎุชูุงุฑ</h3>
                            <p>ุงูุญุฏ ุงูุฃูุตู: <span id="maxSizeText">-</span></p>
                        </div>
                    </div>

                    <!-- File Preview -->
                    <div id="filePreview" class="file-preview hidden">
                        <div class="file-info">
                            <div class="file-icon">๐</div>
                            <div class="file-details">
                                <div class="file-name" id="fileName">-</div>
                                <div class="file-size" id="fileSize">-</div>
                            </div>
                            <button type="button" class="btn-remove" onclick="removeFile()">
                                โ
                            </button>
                        </div>

                        <!-- Validation Progress -->
                        <div id="validationProgress" class="validation-progress hidden">
                            <h4>ุฌุงุฑู ุงูุชุญูู ูู ุงูููู...</h4>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <div class="validation-steps">
                                <div class="validation-step" id="checkSize">
                                    <span class="icon">โณ</span>
                                    <span>ุงูุชุญูู ูู ุงูุญุฌู</span>
                                </div>
                                <div class="validation-step" id="checkType">
                                    <span class="icon">โณ</span>
                                    <span>ุงูุชุญูู ูู ุงูููุน</span>
                                </div>
                                <div class="validation-step" id="checkVirus">
                                    <span class="icon">โณ</span>
                                    <span>ูุญุต ุงูููุฑูุณุงุช</span>
                                </div>
                                <div class="validation-step" id="checkAI">
                                    <span class="icon">โณ</span>
                                    <span>ุงูุชุญูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
                                </div>
                            </div>
                        </div>

                        <!-- Validation Results -->
                        <div id="validationResults" class="validation-results hidden">
                            <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()">
                            ุฑุฌูุน
                        </button>
                        <button type="button" id="uploadBtn" class="btn btn-primary" disabled>
                            ุฑูุน ุงููุดุฑูุน
                        </button>
                    </div>
                </div>
            </section>

            <!-- Step 3: Success -->
            <section id="step3" class="form-section">
                <div class="success-card">
                    <div class="success-icon">โ</div>
                    <h2>ุชู ุงูุชุณููู ุจูุฌุงุญ!</h2>
                    <p>ุชู ุฑูุน ูุดุฑูุนู ุจูุฌุงุญ ูุณูุชู ูุฑุงุฌุนุชู ูุฑูุจุงู</p>
                    
                    <div class="submission-details" id="submissionDetails">
                        <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                    </div>

                    <div class="form-actions">
                        <a href="../index.html" class="btn btn-primary">
                            ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ
                        </a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p id="loadingText">ุฌุงุฑู ุงูุชุญููู...</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/api-config.js"></script>
    <script src="../js/submit-project.js"></script>

    <!-- โ Dark Mode System -->
    <script src="/assets/js/dark-mode-manager.js"></script>
    <script src="/assets/js/dark-mode-init.js"></script>
</body>
</html>
